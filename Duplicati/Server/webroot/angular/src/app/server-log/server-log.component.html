<div class="logpage">

  <h1 i18n>Log data from the server</h1>

  <ul class="tabs">
    <li [class]="{active: page=='stored'}"><a [routerLink]="[{page: 'stored'}]" i18n>Stored</a></li>
    <li [class]="{active: page=='live'}"><a [routerLink]="[{page: 'live'}]" i18n>Live</a></li>
  </ul>

  <div *ngIf="page=='stored'">
    <ul class="entries">
      <li *ngIf="LogData == null" i18n>Loading …</li>
      <app-log-entry *ngFor="let item of LogData" [item]="item"></app-log-entry>
    </ul>
    <div *ngIf="LogData != null && !LogDataComplete" class="button" (click)="loadMoreStoredData()">
      <span *ngIf="LoadingData" i18n>Loading …</span>
      <span *ngIf="!LoadingData" i18n>Load older data</span>
    </div>
  </div>

  <div *ngIf="page=='live'">
    <div>
      <div i18n>Select a log level and see messages as they happen:</div>
      <select [ngModel]="LiveLogLevel" (ngModelChange)="setLiveLogLevel($event)" standalone>
        <option value="" i18n>Disabled</option>
        <option value="level" *ngFor="let level of LogLevels">{{level}}</option>
      </select>
    </div>

    <ul class="entries livedata">
      <app-log-entry *ngFor="let item of LiveData" [itemLive]="item"></app-log-entry>
    </ul>
  </div>
</div>
