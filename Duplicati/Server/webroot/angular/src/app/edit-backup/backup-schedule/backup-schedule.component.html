<form class="styled">
  <h2 i18n>Schedule</h2>
  <div class="input checkbox multiple">
    <input type="checkbox" name="useScheduleRun" id="useScheduleRun" [(ngModel)]="scheduleEnabled" />
    <label for="useScheduleRun" i18n>Automatically run backups.</label>
  </div>
  <div *ngIf="schedule != null">
    <div i18n>If a date was missed, the job will run as soon as possible.</div>
    <br />
    <div class="input text multiple">
      <label for="nextRunTime" i18n>Next time</label>
      <input type="time" [(ngModel)]="scheduleTime" name="nextRunTime" id="nextRunTime" [ngModelOptions]="{updateOn: 'blur'}" />
      <input type="date" [(ngModel)]="scheduleDate" name="nextRunDate" id="nextRunDate" [ngModelOptions]="{updateOn: 'blur'}" />
    </div>
    <div class="input text select multiple repeat">
      <app-input-multiplier name="repeatRun" [(value)]="repeatRun" hasCustom="true" [multipliers]="timerangeMultipliers" i18n>
        Run again every
      </app-input-multiplier>
    </div>
    <div class="input checkbox multiple">
      <strong i18n>Allowed days</strong>

      <div *ngFor="let day of daysOfWeek">
        <input class="simple-checkbox"
               id="dayofweek_{{day.value}}"
               type="checkbox"
               name="dayofweek_{{day.value}}"
               value="{{day.value}}"
               [ngModel]="isDayAllowed(day.value)"
               (ngModelChange)="setDayAllowed(day.value,$event)" />
        <label for="dayofweek_{{day.value}}">{{day.name}}</label>
      </div>
    </div>
  </div>

  <div class="buttons">
    <input class="submit next" type="button" id="nextStep4" (click)="next.emit()" value="Next &gt;" />
    <input class="submit prev" type="button" id="prevStep4" (click)="prev.emit()" value="&lt; Previous" />
  </div>
</form>
